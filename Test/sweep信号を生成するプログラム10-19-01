//
//  FFTController.swift
//  audioavocado -Test
//
//  Created by 吉田成秀 on 2023/10/19.
//  it is python code!

import numpy as np
from scipy.io import wavfile

# パラメータの設定
duration = 5.0  # サウンドの長さ（秒）
sample_rate = 48000  # サンプリングレート
frequency_start = 10  # 開始周波数（Hz）
frequency_end = 24000  # 終了周波数（Hz）

# 時間の配列を生成
t = np.linspace(0, duration, int(sample_rate * duration), endpoint=False)

# 開始から終了までの周波数の線形なスウィープを生成
frequency_sweep = np.linspace(frequency_start, frequency_end, len(t))

# サイン波を生成
sweep_sound = np.sin(2 * np.pi * frequency_sweep * t)

# サウンドを正規化
sweep_sound /= np.max(np.abs(sweep_sound))

# WAVファイルとして保存
wavfile.write("sweep_sound.wav", sample_rate, sweep_sound.astype(np.float32))
